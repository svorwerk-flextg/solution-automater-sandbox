# Database Safety Layer Environment Variables
# Copy to .env and configure with your actual connection details

# === CORE CONFIGURATION ===
DB_SAFETY_CONFIG=/path/to/database_safety_config.yaml
DB_SAFETY_LOG_LEVEL=INFO
DB_SAFETY_PORT=8080
DB_SAFETY_HOST=0.0.0.0

# === DATABASE CONNECTIONS ===

# MSSQL Production (read-only)
MSSQL_PROD_CONNECTION="Driver={ODBC Driver 17 for SQL Server};Server=your-prod-server;Database=your-prod-db;UID=readonly_user;PWD=secure_password;Encrypt=yes;"

# MSSQL Development (read-only)
MSSQL_DEV_CONNECTION="Driver={ODBC Driver 17 for SQL Server};Server=your-dev-server;Database=your-dev-db;UID=readonly_user;PWD=secure_password;Encrypt=yes;"

# MongoDB Replicaset (read-only)
MONGODB_CONNECTION="mongodb://readonly_user:secure_password@mongo1:27017,mongo2:27017,mongo3:27017/?replicaSet=rs0&authSource=admin&readPreference=secondaryPreferred"

# MySQL RDS (read-only)
MYSQL_RDS_CONNECTION="mysql://readonly_user:secure_password@your-rds-endpoint.amazonaws.com:3306/your_database"

# Microsoft Fabric
FABRIC_WORKSPACE_ID="your-workspace-id"
FABRIC_LAKEHOUSE_ID="your-lakehouse-id"
FABRIC_SQL_ENDPOINT="https://workspacename.fabric.microsoft.com/v1/workspaces/{workspace-id}/items/{lakehouse-id}/sqlEndpoint"
FABRIC_TENANT_ID="your-tenant-id"
FABRIC_CLIENT_ID="your-client-id"
FABRIC_CLIENT_SECRET="your-client-secret"

# Local Sandbox
LOCAL_SANDBOX_DB="/tmp/database_sandbox.db"
SANDBOX_STORAGE_PATH="/tmp/database_sandboxes"

# === SECURITY ===
DB_ENCRYPTION_ENABLED=false
DB_ENCRYPTION_KEY=""  # Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"

# === PERFORMANCE ===
DB_QUERY_TIMEOUT=300
DB_MAX_CONCURRENT=100
DB_CONNECTION_POOL_SIZE=10
DB_MAX_POOL_SIZE=50

# === MONITORING ===
DB_AUDIT_LOGGING=true
DB_METRICS_ENABLED=true
DB_HEALTH_CHECK_INTERVAL=30

# === RATE LIMITING ===
DB_RATE_LIMIT_ENABLED=true
DB_RATE_LIMIT_RPM=1000
DB_RATE_LIMIT_BURST=100

# === SANDBOX SETTINGS ===
SANDBOX_MAX_STORAGE_GB=10
SANDBOX_MAX_CONCURRENT=50
SANDBOX_DEFAULT_SAMPLE_SIZE=1000
SANDBOX_AUTO_CLEANUP=true
SANDBOX_CLEANUP_INTERVAL_HOURS=24

# === DATA MASKING ===
DATA_MASKING_LEVEL=standard  # none, basic, standard, strict, custom
DATA_MASKING_PRESERVE_FORMAT=true
DATA_MASKING_PRESERVE_LENGTH=true
DATA_MASKING_CONFIDENCE_THRESHOLD=0.8

# === DOCKER SETTINGS ===
DOCKER_ENABLED=true
DOCKER_NETWORK=database_safety_network

# === AWS SETTINGS (for RDS/EC2) ===
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""

# === AZURE SETTINGS (for Fabric) ===
AZURE_TENANT_ID=""
AZURE_CLIENT_ID=""
AZURE_CLIENT_SECRET=""

# === LOGGING ===
LOG_FILE="/var/log/database_safety/proxy.log"
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# === ALERTING ===
ALERTS_ENABLED=false
SLACK_WEBHOOK_URL=""
EMAIL_SMTP_SERVER=""
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=""
EMAIL_PASSWORD=""
EMAIL_FROM=""
EMAIL_TO=""

# === DEVELOPMENT SETTINGS ===
DEBUG_MODE=false
DEV_AUTO_RELOAD=false
DEV_CORS_ORIGINS="*"

# === SSL/TLS ===
SSL_ENABLED=false
SSL_CERT_FILE=""
SSL_KEY_FILE=""

# === BACKUP SETTINGS ===
BACKUP_ENABLED=false
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH="/backups/database_safety"

# === INTEGRATION SETTINGS ===
WEBHOOK_ENABLED=false
WEBHOOK_URL=""
WEBHOOK_SECRET=""

# === FEATURE FLAGS ===
FEATURE_MONGODB_SUPPORT=true
FEATURE_FABRIC_SUPPORT=true
FEATURE_SANDBOX_AUTO_REFRESH=true
FEATURE_DATA_MASKING=true
FEATURE_QUERY_CACHING=true
FEATURE_CONNECTION_POOLING=true

# === TESTING ===
TEST_MODE=false
TEST_DATABASE_URL="sqlite:///test.db"
TEST_SKIP_AUTH=false